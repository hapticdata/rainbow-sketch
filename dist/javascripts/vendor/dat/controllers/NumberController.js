define(["dat/controllers/Controller","dat/utils/common"],function(t,e){function i(t){return t=""+t,t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var n=function(t,r,s){n.superclass.call(this,t,r),s=s||{},this.__min=s.min,this.__max=s.max,this.__step=s.step,this.__impliedStep=e.isUndefined(this.__step)?0==this.initialValue?1:Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__step,this.__precision=i(this.__impliedStep)};return n.superclass=t,e.extend(n.prototype,t.prototype,{setValue:function(t){return void 0!==this.__min&&this.__min>t?t=this.__min:void 0!==this.__max&&t>this.__max&&(t=this.__max),void 0!==this.__step&&0!=t%this.__step&&(t=Math.round(t/this.__step)*this.__step),n.superclass.prototype.setValue.call(this,t)},min:function(t){return this.__min=t,this},max:function(t){return this.__max=t,this},step:function(t){return this.__step=t,this}}),n});