define(["dat/controllers/NumberController","dat/dom/dom","dat/utils/css","dat/utils/common","text!dat/controllers/NumberControllerSlider.css"],function(t,e,i,n,s){function r(t,e,i,n,s){return n+(s-n)*((t-e)/(i-e))}var o=function(t,i,n,s,a){function h(t){e.bind(window,"mousemove",u),e.bind(window,"mouseup",l),u(t)}function u(t){t.preventDefault();var i=e.getOffset(c.__background),n=e.getWidth(c.__background);return c.setValue(r(t.clientX,i.left,i.left+n,c.__min,c.__max)),!1}function l(){e.unbind(window,"mousemove",u),e.unbind(window,"mouseup",l),c.__onFinishChange&&c.__onFinishChange.call(c,c.getValue())}o.superclass.call(this,t,i,{min:n,max:s,step:a});var c=this;this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),e.bind(this.__background,"mousedown",h),e.addClass(this.__background,"slider"),e.addClass(this.__foreground,"slider-fg"),this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)};return o.superclass=t,o.useDefaultStyles=function(){i.inject(s)},n.extend(o.prototype,t.prototype,{updateDisplay:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",o.superclass.prototype.updateDisplay.call(this)}}),o});