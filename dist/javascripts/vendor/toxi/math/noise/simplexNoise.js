define(["require","exports","module","../../internals"],function(t,e,i){var n=t("../../internals").Int32Array,r=Math.sqrt(3),s=Math.sqrt(5),o=.5*(r-1),a=(3-r)/6,h=2*a-1,u=1/3,c=1/6,l=(s-1)/4,d=(5-s)/20,f=2*d,p=3*d,m=4*d-1,g=[new n([1,1,0]),new n([-1,1,0]),new n([1,-1,0]),new n([-1,-1,0]),new n([1,0,1]),new n([-1,0,1]),new n([1,0,-1]),new n([-1,0,-1]),new n([0,1,1]),new n([0,-1,1]),new n([0,1,-1]),new n([0,-1,-1])],y=[new n([0,1,1,1]),new n([0,1,1,-1]),new n([0,1,-1,1]),new n([0,1,-1,-1]),new n([0,-1,1,1]),new n([0,-1,1,-1]),new n([0,-1,-1,1]),new n([0,-1,-1,-1]),new n([1,0,1,1]),new n([1,0,1,-1]),new n([1,0,-1,1]),new n([1,0,-1,-1]),new n([-1,0,1,1]),new n([-1,0,1,-1]),new n([-1,0,-1,1]),new n([-1,0,-1,-1]),new n([1,1,0,1]),new n([1,1,0,-1]),new n([1,-1,0,1]),new n([1,-1,0,-1]),new n([-1,1,0,1]),new n([-1,1,0,-1]),new n([-1,-1,0,1]),new n([-1,-1,0,-1]),new n([1,1,1,0]),new n([1,1,-1,0]),new n([1,-1,1,0]),new n([1,-1,-1,0]),new n([-1,1,1,0]),new n([-1,1,-1,0]),new n([-1,-1,1,0]),new n([-1,-1,-1,0])],x=new n([151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180]),v=function(){for(var t=new n(512),e=0;512>e;e++)t[e]=x[255&e];return t}(),_=[new n([0,1,2,3]),new n([0,1,3,2]),new n([0,0,0,0]),new n([0,2,3,1]),new n([0,0,0,0]),new n([0,0,0,0]),new n([0,0,0,0]),new n([1,2,3,0]),new n([0,2,1,3]),new n([0,0,0,0]),new n([0,3,1,2]),new n([0,3,2,1]),new n([0,0,0,0]),new n([0,0,0,0]),new n([0,0,0,0]),new n([1,3,2,0]),new n([0,0,0,0]),new n([0,0,0,0]),new n([0,0,0,0]),new n([0,0,0,0]),new n([0,0,0,0]),new n([0,0,0,0]),new n([0,0,0,0]),new n([0,0,0,0]),new n([1,2,0,3]),new n([0,0,0,0]),new n([1,3,0,2]),new n([0,0,0,0]),new n([0,0,0,0]),new n([0,0,0,0]),new n([2,3,0,1]),new n([2,3,1,0]),new n([1,0,2,3]),new n([1,0,3,2]),new n([0,0,0,0]),new n([0,0,0,0]),new n([0,0,0,0]),new n([2,0,3,1]),new n([0,0,0,0]),new n([2,1,3,0]),new n([0,0,0,0]),new n([0,0,0,0]),new n([0,0,0,0]),new n([0,0,0,0]),new n([0,0,0,0]),new n([0,0,0,0]),new n([0,0,0,0]),new n([0,0,0,0]),new n([2,0,1,3]),new n([0,0,0,0]),new n([0,0,0,0]),new n([0,0,0,0]),new n([3,0,1,2]),new n([3,0,2,1]),new n([0,0,0,0]),new n([3,1,2,0]),new n([2,1,0,3]),new n([0,0,0,0]),new n([0,0,0,0]),new n([0,0,0,0]),new n([3,1,0,2]),new n([0,0,0,0]),new n([3,2,0,1]),new n([3,2,1,0])],b=function(t,e,i,n,r){var s=t[0]*e+t[1]*i;return n&&(s+=t[2]*n,r&&(s+=t[3]*r)),s},w=function(t){return t>=0?Math.floor(t):Math.floor(t-1)},S={noise:function(t,e,i,n){var r=arguments.length,s=0,x=0,S=0,A=0,M=0,E=function(){switch(r){case 2:return(t+e)*o;case 3:return(t+e+i)*u;case 4:return(t+e+i+n)*l;default:throw Error("Wrong arguments supplied to SimplexNoise.noise()")}}(),C=w(t+E),T=w(e+E),z=void 0!==i?w(i+E):void 0,I=void 0!==n?w(n+E):void 0,D=function(){switch(r){case 2:return(C+T)*a;case 3:return(C+T+z)*c;case 4:return(C+T+z+I)*d}}(),L=t-(C-D),P=e-(T-D),R=void 0!==i?i-(z-D):void 0,N=void 0!==n?n-(I-D):void 0;return 2==r?function(){var t,e,i,n,r,o,u,c,l,d,f,p,m;L>P?(t=1,e=0):(t=0,e=1),i=L-t+a,n=P-e+a,r=L+h,o=P+h,u=255&C,c=255&T,l=.5-L*L-P*P,l>0&&(l*=l,d=v[u+v[c]]%12,s=l*l*b(g[d],L,P));var y=.5-i*i-n*n;return y>0&&(y*=y,f=v[u+t+v[c+e]]%12,x=y*y*b(g[f],i,n)),m=.5-r*r-o*o,m>0&&(m*=m,p=v[u+1+v[c+1]]%12,S=m*m*b(g[p],r,o)),70*(s+x+S)}():3==r?function(){var t,e,i,n,r,o,a,h,l,d,f,p,m,y,_,w,M,E,I,D,N,k,V,q,B,O;return L>=P?P>=R?(t=1,e=0,i=0,n=1,r=1,o=0):L>=R?(t=1,e=0,i=0,n=1,r=0,o=1):(t=0,e=0,i=1,n=1,r=0,o=1):R>P?(t=0,e=0,i=1,n=0,r=1,o=1):R>L?(t=0,e=1,i=0,n=0,r=1,o=1):(t=0,e=1,i=0,n=1,r=1,o=0),a=L-t+c,h=P-e+c,l=R-i+c,d=L-n+u,f=P-r+u,p=R-o+u,m=L-.5,y=P-.5,_=R-.5,w=255&C,M=255&T,E=255&z,I=.6-L*L-P*P-R*R,I>0&&(I*=I,D=v[w+v[M+v[E]]]%12,s=I*I*b(g[D],L,P,R)),N=.6-a*a-h*h-l*l,N>0&&(N*=N,k=v[w+t+v[M+e+v[E+i]]]%12,x=N*N*b(g[k],a,h,l)),V=.6-d*d-f*f-p*p,V>0&&(V*=V,q=v[w+n+v[M+r+v[E+o]]]%12,S=V*V*b(g[q],d,f,p)),B=.6-m*m-y*y-_*_,B>0&&(B*=B,O=v[w+1+v[M+1+v[E+1]]]%12,A=B*B*b(g[O],m,y,_)),32*(s+x+S+A)}():function(){var t,e,i,n,r,o,a,h,u,c,l,g,w,E,D,k,V,q,B,O,U,F,X,H,j,Y,G,W,Z,K,Q,J,$,te,ee,ie,ne,re,se,oe,ae,he,ue=_[function(){var t=0;return L>P&&(t=32),L>R&&(t|=16),P>R&&(t|=8),L>N&&(t|=4),P>N&&(t|=2),R>N&&(t|=1),t}()];return t=ue[0]>=3?1:0,e=ue[1]>=3?1:0,i=ue[2]>=3?1:0,n=ue[3]>=3?1:0,r=ue[0]>=2?1:0,o=ue[1]>=2?1:0,a=ue[2]>=2?1:0,h=ue[3]>=2?1:0,u=ue[0]>=1?1:0,c=ue[1]>=1?1:0,l=ue[2]>=1?1:0,g=ue[3]>=1?1:0,w=L-t+d,E=P-e+d,D=R-i+d,k=N-n+d,V=L-r+f,q=P-o+f,B=R-a+f,O=N-h+f,U=L-u+p,F=P-c+p,X=R-l+p,H=N-g+p,j=L+m,Y=P+m,G=R+m,W=N+m,Z=255&C,K=255&T,Q=255&z,J=255&I,$=.6-L*L-P*P-R*R-N*N,$>0&&($*=$,te=v[Z+v[K+v[Q+v[J]]]]%32,s=$*$*b(y[te],L,P,R,N)),ee=.6-w*w-E*E-D*D-k*k,ee>0&&(ee*=ee,ie=v[Z+t+v[K+e+v[Q+i+v[J+n]]]]%32,x=ee*ee*b(y[ie],w,E,D,k)),ne=.6-V*V-q*q-B*B-O*O,ne>0&&(ne*=ne,re=v[Z+r+v[K+o+v[Q+a+v[J+h]]]]%32,S=ne*ne*b(y[re],V,q,B,O)),se=.6-U*U-F*F-X*X-H*H,se>0&&(se*=se,oe=v[Z+u+v[K+c+v[Q+l+v[J+g]]]]%32,A=se*se*b(y[oe],U,F,X,H)),ae=.6-j*j-Y*Y-G*G-W*W,ae>0&&(ae*=ae,he=v[Z+1+v[K+1+v[Q+1+v[J+1]]]]%32,M=ae*ae*b(y[he],j,Y,G,W)),27*(s+x+S+A+M)}()}};i.exports=S});