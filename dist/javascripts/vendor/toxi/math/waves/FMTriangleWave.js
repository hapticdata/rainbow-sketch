define(["require","exports","module","../../internals","../mathUtils","./AbstractWave","./ConstantWave"],function(t,e,i){var n=t("../../internals").extend,s=t("../mathUtils"),r=t("./AbstractWave"),o=t("./ConstantWave"),a=function(t,e,i,n,s){"number"==typeof i?void 0!==s?(r.apply(this,[t,e,i,n]),this.fmod=s):r.apply(this,[t,e,i,n,new o(0)]):r.apply(this,[t,e,1,0])};n(a,r),a.prototype.getClass=function(){return"FMTriangleWave"},a.prototype.pop=function(){this.parent.pop.call(this),this.fmod.pop()},a.prototype.push=function(){this.parent.push.call(this),this.fmod.push()},a.prototype.reset=function(){this.parent.reset.call(this),this.fmod.reset()},a.prototype.update=function(){return this.value=2*this.amp*(Math.abs(r.PI-this.phase)*s.INV_PI-.5)+this.offset,this.cyclePhase(this.frequency+this.fmod.update()),this.value},i.exports=a});