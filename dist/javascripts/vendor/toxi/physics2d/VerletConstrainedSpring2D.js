define(["require","exports","module","../internals","./VerletSpring2D"],function(t,e,i){var n=t("../internals"),s=t("./VerletSpring2D"),r=function(t,e,i,n,r){s.call(this,t,e,i,n),this.limit=void 0===r?Number.MAX_VALUE:r};n.extend(r,s),r.update=function(t){var e=this.b.sub(this.a),i=e.magnitude()+s.EPS,n=(i-this.restLength)/(i*(this.a.invWeight+this.b.invWeight))*this.strength;this.a.isLocked||this.isALocked||(this.a.addSelf(e.scale(n*this.a.invWeight).limit(this.limit)),t&&this.a.applyConstraints()),this.b.isLocked||this.isBLocked||(this.b.subSelf(e.scale(n*this.b.invWeight).limit(this.limit)),t&&this.b.applyConstraints())},i.exports=r});