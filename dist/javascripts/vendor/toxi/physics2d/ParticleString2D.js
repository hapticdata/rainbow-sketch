define(["require","exports","module","./VerletParticle2D","./VerletSpring2D"],function(t,e,i){var n=t("./VerletParticle2D"),s=t("./VerletSpring2D"),r=function(){var t={physics:void 0,plist:void 0,pos:void 0,step:void 0,num:void 0,mass:void 0,strength:void 0},e=!1;if(0===arguments.length)throw Error("Incorrect Parameters");if(1==arguments.length){var i=arguments[0];for(var s in i)t[s]=i[s]}else t.physics=arguments[0],6==arguments.length?(t.pos=arguments[1],t.step=arguments[2],t.num=arguments[3],t.mass=arguments[4],t.strength=arguments[5]):(t.plist=arguments[1],t.strength=arguments[2]);if(void 0!==t.num&&void 0!==t.pos&&void 0!==t.step&&void 0!==t.mass&&(e=!0),!e&&void 0===t.plist)throw Error("Incorrect Parameters, please supply plist or num, pos, step & mass");this.physics=t.physics,this.links=[];var r,o,a,h,u=0;if(e){var c=t.pos.copy(),l=t.step,d=t.mass,f=l.magnitude();for(this.particles=[],h=t.strength,u=0;t.num>u;u++)o=new n(c.copy(),d),this.particles.push(o),this.physics.particles.push(o),void 0!==r&&(a=this.createSpring(r,o,f,h),this.links.push(a),this.physics.addSpring(a)),r=o,c.addSelf(l)}else for(h=t.strength,this.particles=t.plist||[],u=0;this.particles.length>u;u++)o=this.particles[u],this.physics.addParticle(o),void 0!==r&&(a=this.createSpring(r,o,r.distanceTo(o),h),this.links.push(a),this.physics.addSpring(a)),r=o};r.prototype={clear:function(){for(var t=0,e=this.links.length;e>t;t++)this.physics.removeSpringElements(this.links[t]);this.particles=[],this.links=[]},createSpring:function(t,e,i,n){return new s(t,e,i,n)},getHead:function(){return this.particles[0]},getNumParticles:function(){return this.particles.length},getTail:function(){return this.particles[this.particles.length-1]}},i.exports=r});