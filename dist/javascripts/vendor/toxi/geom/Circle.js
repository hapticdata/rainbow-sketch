define(["require","exports","module","../internals","../math/mathUtils","./Ellipse","./Vec2D"],function(t,e,n){var i,r;i=t("../internals"),r=t("../math/mathUtils");var s=t("./Ellipse"),o=t("./Vec2D"),a=function(t,e,n){1==arguments.length?i.tests.isCircle(t)?s.apply(this,[t,t.radius.x]):s.apply(this,[0,0,t]):2==arguments.length?s.apply(this,[t,e]):s.apply(this,[t,e,n,n])};i.extend(a,s),a.from2Points=function(t,e){var n=t.interpolateTo(e,.5),i=n.distanceTo(t);return new a(n,i)},a.from3Points=function(t,e,n){var i,s,u,h=e.sub(t),c=n.sub(e);if(1e-7>=r.abs(h.x)&&1e-7>=r.abs(c.y))s=new o(e.x+n.x,t.y+e.y).scaleSelf(.5),u=s.distanceTo(t),i=new a(s,u);else{var l=h.y/h.x,d=c.y/c.x;if(r.abs(l-d)>1e-7&&0!==l){var f=(l*d*(t.y-n.y)+d*(t.x+e.x)-l*(e.x+n.x))/(2*(d-l)),p=-(f-(t.x+e.x)/2)/l+(t.y+e.y)/2;s=new o(f,p),u=s.distanceTo(t),i=new a(s,u)}}return i},a.newBoundingCircle=function(t){for(var e=new o,n=0,i=0,r=t.length;r>i;i++)e.addSelf(t[i]);for(e.scaleSelf(1/t.length),i=0;r>i;i++){var s=e.distanceToSquared(t[i]);s>n&&(n=s)}return new a(e,Math.sqrt(n))},a.prototype.containsPoint=function(t){return this.distanceToSquared(t)<=this.radius.x*this.radius.x},a.prototype.getCircumference=function(){return r.TWO_PI*this.radius.x},a.prototype.getRadius=function(){return this.radius.x},a.prototype.getTangentPoints=function(t){var e=this.interpolateTo(t,.5);return this.intersectsCircle(new a(e,e.distanceTo(t)))},a.prototype.intersectsCircle=function(t){var e,n=t.sub(this),i=n.magnitude(),r=this.radius.x,s=t.radius.x;if(r+s>=i&&i>=Math.abs(r-s)){var o=(r*r-s*s+i*i)/(2*i);i=1/i;var a=this.add(n.scale(o*i)),u=Math.sqrt(r*r-o*o);n.perpendicular().scaleSelf(u*i);var h=a.add(n),c=a.sub(n);e=[h,c]}return e},a.prototype.setRadius=function(t){return this.setRadii(t,t),this},n.exports=a});